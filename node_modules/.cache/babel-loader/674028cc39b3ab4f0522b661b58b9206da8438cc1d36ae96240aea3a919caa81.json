{"ast":null,"code":"var _jsxFileName = \"/Users/valu/Desktop/TESTSDS/my-app/src/pages/Screen.js\",\n  _s = $RefreshSig$();\nimport styles from \"./styles.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport Driver from \"../agents/Driver\";\nimport Passenger from \"../agents/Passenger\";\nimport { moveTo } from \"../utils/moveTo\";\nimport { helpmoveTo } from \"../utils/helpmoveTo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Screen(props) {\n  _s();\n  const [passengers, setPassengers] = useState([{\n    id: \"passenger1\",\n    position: {\n      x: 100,\n      y: 100\n    },\n    destination: {\n      x: 50,\n      y: 40\n    },\n    happyfactor: 3,\n    speed: 0\n  }, {\n    id: \"passenger2\",\n    position: {\n      x: 140,\n      y: 120\n    },\n    destination: {\n      x: 30,\n      y: 50\n    },\n    happyfactor: 3,\n    speed: 0\n  }, {\n    id: \"passenger3\",\n    position: {\n      x: 160,\n      y: 10\n    },\n    destination: {\n      x: 30,\n      y: 40\n    },\n    happyfactor: 2,\n    speed: 0\n  }, {\n    id: \"passenger4\",\n    position: {\n      x: 20,\n      y: 70\n    },\n    destination: {\n      x: 20,\n      y: 90\n    },\n    happyfactor: 1,\n    speed: 0\n  }]);\n  const [drivers, setDrivers] = useState([{\n    id: \"driver1\",\n    position: {\n      x: 50,\n      y: 50\n    },\n    destination: {\n      x: 200,\n      y: 100\n    },\n    speed: 5,\n    passenger: null,\n    happyfactor: 4\n  }, {\n    id: \"driver2\",\n    position: {\n      x: 190,\n      y: 100\n    },\n    destination: {\n      x: 60,\n      y: 130\n    },\n    speed: 4,\n    passenger: null,\n    happyfactor: 3\n  }, {\n    id: \"driver3\",\n    position: {\n      x: 60,\n      y: 50\n    },\n    destination: {\n      x: 160,\n      y: 30\n    },\n    speed: 3,\n    passenger: null,\n    happyfactor: 2\n  }]);\n  console.log(drivers, \"hello\");\n  console.log(passengers, \"hello2\");\n  console.log(drivers[1].ball, \"beall\");\n  function search(driver) {\n    for (let i = 0; i < passengers.length; i++) {\n      const passenger = passengers[i];\n      if (passenger.driver === null && passenger.happyfactor < driver.happyfactor) {\n        console.log(\"passenger found\");\n        pickingup(driver, passenger);\n        break;\n      }\n    }\n  }\n  function setRandomDestination() {\n    const x = Math.floor(Math.random() * 200);\n    const y = Math.floor(Math.random() * 200);\n    setDestination({\n      x,\n      y\n    });\n  }\n  function pickingup(driver, passenger) {\n    passenger.driver = driver;\n    driver.passenger = passenger;\n    console.log(passenger.driver, driver.passenger, \"hi\");\n    driver.destination = passenger.position;\n    driver.speed = passenger.speed;\n    if (driver.position.x === passenger.position.x && driver.position.y === passenger.position.y) {\n      deliver(driver, passenger);\n    }\n  }\n  function deliver(driver, passenger) {\n    // driver.destination = passenger.destination;\n    // passenger.inTransit(passenger.destination);\n  }\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      for (let i = 0; i < drivers.length; i++) {\n        const driver = drivers[i];\n        console.log(\"driver\", driver);\n        if (driver.passenger === null) {\n          search(driver);\n        } else driver;\n      }\n      console.log(\"show me something\");\n    }, 1000);\n    return () => clearInterval(intervalId);\n  }, [drivers, passengers]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.arena,\n      children: [drivers.map(driver => /*#__PURE__*/_jsxDEV(Driver, {\n        position: driver.position,\n        destination: driver.destination,\n        speed: driver.speed,\n        passenger: driver.passenger,\n        happyFactor: driver.happyfactor\n      }, driver.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)), passengers.map(passenger => /*#__PURE__*/_jsxDEV(Passenger, {\n        location: passenger.position,\n        destination: passenger.destination,\n        driver: passenger.driver,\n        happyFactor: passenger.happyfactor\n      }, passenger.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n}\n_s(Screen, \"7L4QrSdDDbpQhUFqVIjkU0F3kNY=\");\n_c = Screen;\nexport default Screen;\nvar _c;\n$RefreshReg$(_c, \"Screen\");","map":{"version":3,"names":["styles","React","useState","useEffect","Driver","Passenger","moveTo","helpmoveTo","jsxDEV","_jsxDEV","Screen","props","_s","passengers","setPassengers","id","position","x","y","destination","happyfactor","speed","drivers","setDrivers","passenger","console","log","ball","search","driver","i","length","pickingup","setRandomDestination","Math","floor","random","setDestination","deliver","intervalId","setInterval","clearInterval","children","className","arena","map","happyFactor","fileName","_jsxFileName","lineNumber","columnNumber","location","_c","$RefreshReg$"],"sources":["/Users/valu/Desktop/TESTSDS/my-app/src/pages/Screen.js"],"sourcesContent":["import styles from \"./styles.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport Driver from \"../agents/Driver\";\nimport Passenger from \"../agents/Passenger\";\nimport { moveTo } from \"../utils/moveTo\";\nimport { helpmoveTo } from \"../utils/helpmoveTo\";\n\nfunction Screen(props) {\n  const [passengers, setPassengers] = useState([\n    {\n      id: \"passenger1\",\n      position: { x: 100, y: 100 },\n      destination: { x: 50, y: 40 },\n      happyfactor: 3,\n      speed: 0,\n    },\n    {\n      id: \"passenger2\",\n      position: { x: 140, y: 120 },\n      destination: { x: 30, y: 50 },\n      happyfactor: 3,\n      speed: 0,\n    },\n    {\n      id: \"passenger3\",\n      position: { x: 160, y: 10 },\n      destination: { x: 30, y: 40 },\n      happyfactor: 2,\n      speed: 0,\n    },\n    {\n      id: \"passenger4\",\n      position: { x: 20, y: 70 },\n      destination: { x: 20, y: 90 },\n      happyfactor: 1,\n      speed: 0,\n    },\n  ]);\n  const [drivers, setDrivers] = useState([\n    {\n      id: \"driver1\",\n      position: { x: 50, y: 50 },\n      destination: { x: 200, y: 100 },\n      speed: 5,\n      passenger: null,\n      happyfactor: 4,\n    },\n    {\n      id: \"driver2\",\n      position: { x: 190, y: 100 },\n      destination: { x: 60, y: 130 },\n      speed: 4,\n      passenger: null,\n      happyfactor: 3,\n    },\n    {\n      id: \"driver3\",\n      position: { x: 60, y: 50 },\n      destination: { x: 160, y: 30 },\n      speed: 3,\n      passenger: null,\n      happyfactor: 2,\n    },\n  ]);\n  console.log(drivers, \"hello\");\n  console.log(passengers, \"hello2\");\n  console.log(drivers[1].ball, \"beall\");\n  function search(driver) {\n    for (let i = 0; i < passengers.length; i++) {\n      const passenger = passengers[i];\n      if (\n        passenger.driver === null &&\n        passenger.happyfactor < driver.happyfactor\n      ) {\n        console.log(\"passenger found\");\n        pickingup(driver, passenger);\n        break;\n      }\n    }\n  }\n  function setRandomDestination() {\n    const x = Math.floor(Math.random() * 200);\n    const y = Math.floor(Math.random() * 200);\n    setDestination({ x, y });\n  }\n\n  function pickingup(driver, passenger) {\n    passenger.driver = driver;\n    driver.passenger = passenger;\n    console.log(passenger.driver, driver.passenger, \"hi\");\n    driver.destination = passenger.position;\n    driver.speed = passenger.speed;\n\n    if (\n      driver.position.x === passenger.position.x &&\n      driver.position.y === passenger.position.y\n    ) {\n      deliver(driver, passenger);\n    }\n  }\n  function deliver(driver, passenger) {\n    // driver.destination = passenger.destination;\n    // passenger.inTransit(passenger.destination);\n  }\n\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      for (let i = 0; i < drivers.length; i++) {\n        const driver = drivers[i];\n        console.log(\"driver\", driver);\n        if (driver.passenger === null) {\n          search(driver);\n        } else driver;\n      }\n      console.log(\"show me something\");\n    }, 1000);\n\n    return () => clearInterval(intervalId);\n  }, [drivers, passengers]);\n\n  return (\n    <div>\n      <div className={styles.arena}>\n        {drivers.map((driver) => (\n          <Driver\n            key={driver.id}\n            position={driver.position}\n            destination={driver.destination}\n            speed={driver.speed}\n            passenger={driver.passenger}\n            happyFactor={driver.happyfactor}\n          />\n        ))}\n        {passengers.map((passenger) => (\n          <Passenger\n            key={passenger.id}\n            location={passenger.position}\n            destination={passenger.destination}\n            driver={passenger.driver}\n            happyFactor={passenger.happyfactor}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Screen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}