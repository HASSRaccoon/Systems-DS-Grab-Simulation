{"ast":null,"code":"var _jsxFileName = \"/Users/valu/Desktop/TESTSDS/my-app/src/agents/Driver.js\",\n  _s = $RefreshSig$();\nimport styles from \"./styles.module.css\";\nimport React, { useState, useEffect } from \"react\";\n\n// const Driver = () => {\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst search = () => {\n  let timer;\n  if (!passenger) {\n    timer = setInterval(() => {\n      const newDestination = {\n        x: Math.floor(Math.random() * 500),\n        y: Math.floor(Math.random() * 500)\n      };\n      setDestination(newDestination);\n      if (location.x === newDestination.x && location.y === newDestination.y) {\n        clearInterval(timer);\n        search();\n      }\n    }, 5000);\n  } else {\n    const foundPassenger = passenger.find(p => p.happyFactor < happyFactor);\n    if (foundPassenger) {\n      setDestination(foundPassenger.destination);\n    } else {\n      timer = setInterval(() => {\n        const newDestination = {\n          x: Math.floor(Math.random() * 500),\n          y: Math.floor(Math.random() * 500)\n        };\n        setDestination(newDestination);\n        if (location.x === newDestination.x && location.y === newDestination.y) {\n          clearInterval(timer);\n          search();\n        }\n      }, 5000);\n    }\n  }\n  setTimeout(() => {\n    clearInterval(timer);\n    // check if there's still no passenger or no passenger that meets the happyFactor criteria after 10 seconds\n    if (!passenger || !passenger.find(p => p.happyFactor < happyFactor)) {\n      // driver disappears\n    }\n  }, 10000);\n};\n\n//   const pickup = (passenger) => {\n//     setPassenger(passenger);\n//   };\n\n//   // const deliver = () => {\n//   //   setLocation(passenger.destination);\n//   //   // passenger and driver now become a unit\n//   //   // move together on the screen to the passenger's destination\n//   //   // driver disappears after reaching the destination\n//   //   // passenger disappears\n//   //   // driver goes back to function searching\n//   // };\n\n//   const completed = () => {\n//     search();\n//   };\n\nfunction Driver() {\n  _s();\n  const [location, setLocation] = useState({\n    x: Math.floor(Math.random() * 500),\n    y: Math.floor(Math.random() * 500)\n  });\n  const [destination, setDestination] = useState({\n    x: Math.floor(Math.random() * 500),\n    y: Math.floor(Math.random() * 500)\n  });\n  const [passenger, setPassenger] = useState(null);\n  const [happyFactor, setHappyFactor] = useState(0);\n  const [state, setState] = useState(\"SEARCHING\");\n  function search() {}\n  useEffect(() => {\n    search();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.driver,\n    style: {\n      top: location.y,\n      left: location.x\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n_s(Driver, \"9bqBEO7y8P01PIH4FulsGrsEB1U=\");\n_c = Driver;\nexport default Driver;\nvar _c;\n$RefreshReg$(_c, \"Driver\");","map":{"version":3,"names":["styles","React","useState","useEffect","jsxDEV","_jsxDEV","search","timer","passenger","setInterval","newDestination","x","Math","floor","random","y","setDestination","location","clearInterval","foundPassenger","find","p","happyFactor","destination","setTimeout","Driver","_s","setLocation","setPassenger","setHappyFactor","state","setState","className","driver","style","top","left","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/valu/Desktop/TESTSDS/my-app/src/agents/Driver.js"],"sourcesContent":["import styles from \"./styles.module.css\";\nimport React, { useState, useEffect } from \"react\";\n\n// const Driver = () => {\n\nconst search = () => {\n  let timer;\n  if (!passenger) {\n    timer = setInterval(() => {\n      const newDestination = {\n        x: Math.floor(Math.random() * 500),\n        y: Math.floor(Math.random() * 500),\n      };\n      setDestination(newDestination);\n      if (location.x === newDestination.x && location.y === newDestination.y) {\n        clearInterval(timer);\n        search();\n      }\n    }, 5000);\n  } else {\n    const foundPassenger = passenger.find((p) => p.happyFactor < happyFactor);\n    if (foundPassenger) {\n      setDestination(foundPassenger.destination);\n    } else {\n      timer = setInterval(() => {\n        const newDestination = {\n          x: Math.floor(Math.random() * 500),\n          y: Math.floor(Math.random() * 500),\n        };\n        setDestination(newDestination);\n        if (\n          location.x === newDestination.x &&\n          location.y === newDestination.y\n        ) {\n          clearInterval(timer);\n          search();\n        }\n      }, 5000);\n    }\n  }\n\n  setTimeout(() => {\n    clearInterval(timer);\n    // check if there's still no passenger or no passenger that meets the happyFactor criteria after 10 seconds\n    if (!passenger || !passenger.find((p) => p.happyFactor < happyFactor)) {\n      // driver disappears\n    }\n  }, 10000);\n};\n\n//   const pickup = (passenger) => {\n//     setPassenger(passenger);\n//   };\n\n//   // const deliver = () => {\n//   //   setLocation(passenger.destination);\n//   //   // passenger and driver now become a unit\n//   //   // move together on the screen to the passenger's destination\n//   //   // driver disappears after reaching the destination\n//   //   // passenger disappears\n//   //   // driver goes back to function searching\n//   // };\n\n//   const completed = () => {\n//     search();\n//   };\n\nfunction Driver() {\n  const [location, setLocation] = useState({\n    x: Math.floor(Math.random() * 500),\n    y: Math.floor(Math.random() * 500),\n  });\n  const [destination, setDestination] = useState({\n    x: Math.floor(Math.random() * 500),\n    y: Math.floor(Math.random() * 500),\n  });\n  const [passenger, setPassenger] = useState(null);\n  const [happyFactor, setHappyFactor] = useState(0);\n  const [state, setState] = useState(\"SEARCHING\");\n\n  function search() {}\n  useEffect(() => {\n    search();\n  }, []);\n  return (\n    <div\n      className={styles.driver}\n      style={{ top: location.y, left: location.x }}\n    >\n      {/* green circle */}\n    </div>\n  );\n}\n\nexport default Driver;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}