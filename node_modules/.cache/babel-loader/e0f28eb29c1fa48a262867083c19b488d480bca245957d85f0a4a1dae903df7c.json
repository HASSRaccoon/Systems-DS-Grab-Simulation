{"ast":null,"code":"var _jsxFileName = \"/Users/valu/Desktop/TESTSDS/my-app/src/agents/Driver.js\",\n  _s = $RefreshSig$();\nimport styles from \"./styles.module.css\";\nimport React, { useState, useEffect, useRef } from \"react\";\n\n// const Driver = () => {\n\n// const search = () => {\n//   let timer;\n//   if (!passenger) {\n//     timer = setInterval(() => {\n//       const newDestination = {\n//         x: Math.floor(Math.random() * 500),\n//         y: Math.floor(Math.random() * 500),\n//       };\n//       setDestination(newDestination);\n//       if (location.x === newDestination.x && location.y === newDestination.y) {\n//         clearInterval(timer);\n//         search();\n//       }\n//     }, 5000);\n//   } else {\n//     const foundPassenger = passenger.find((p) => p.happyFactor < happyFactor);\n//     if (foundPassenger) {\n//       setDestination(foundPassenger.destination);\n//     } else {\n//       timer = setInterval(() => {\n//         const newDestination = {\n//           x: Math.floor(Math.random() * 500),\n//           y: Math.floor(Math.random() * 500),\n//         };\n//         setDestination(newDestination);\n//         if (\n//           location.x === newDestination.x &&\n//           location.y === newDestination.y\n//         ) {\n//           clearInterval(timer);\n//           search();\n//         }\n//       }, 5000);\n//     }\n//   }\n\n//   setTimeout(() => {\n//     clearInterval(timer);\n//     // check if there's still no passenger or no passenger that meets the happyFactor criteria after 10 seconds\n//     if (!passenger || !passenger.find((p) => p.happyFactor < happyFactor)) {\n//       // driver disappears\n//     }\n//   }, 10000);\n// };\n\n//   const pickup = (passenger) => {\n//     setPassenger(passenger);\n//   };\n\n//   // const deliver = () => {\n//   //   setLocation(passenger.destination);\n//   //   // passenger and driver now become a unit\n//   //   // move together on the screen to the passenger's destination\n//   //   // driver disappears after reaching the destination\n//   //   // passenger disappears\n//   //   // driver goes back to function searching\n//   // };\n\n//   const completed = () => {\n//     search();\n//   };\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Driver() {\n  _s();\n  const [location, setLocation] = useState({\n    x: Math.floor(Math.random() * 500),\n    y: Math.floor(Math.random() * 500)\n  });\n  const [destination, setDestination] = useState({\n    x: Math.floor(Math.random() * 500),\n    y: Math.floor(Math.random() * 500)\n  });\n  const [passenger, setPassenger] = useState(null);\n  const [happyFactor, setHappyFactor] = useState(0);\n  const [state, setState] = useState(\"SEARCHING\");\n  const circleRef = useRef(null);\n  function search() {}\n  useEffect(() => {\n    const circle = circleRef.current;\n    function updatePosition() {\n      const dx = destination.x - location.x;\n      const dy = destination.y - location.y;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      const speed = 5;\n      const directionX = dx / distance;\n      const directionY = dy / distance;\n      const newPositionX = location.x + directionX * speed;\n      const newPositionY = location.y + directionY * speed;\n      circle.setAttribute(\"cx\", newPositionX);\n      circle.setAttribute(\"cy\", newPositionY);\n      if (newPositionX === destination.x && newPositionY === destination.y) {\n        clearInterval(intervalId);\n      }\n    }\n    const intervalId = setInterval(updatePosition, 10); // Set up a timer to update the circle's position\n\n    return () => {\n      clearInterval(intervalId); // Clean up the timer when the component unmounts\n    };\n  }, [location, destination]);\n\n  // useEffect(() => {\n  //   search();\n  // }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.driver,\n    style: {\n      top: location.y,\n      left: location.x\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n_s(Driver, \"4TCUUGya9i81Kx5Zccfr2h+Keuk=\");\n_c = Driver;\nexport default Driver;\nvar _c;\n$RefreshReg$(_c, \"Driver\");","map":{"version":3,"names":["styles","React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Driver","_s","location","setLocation","x","Math","floor","random","y","destination","setDestination","passenger","setPassenger","happyFactor","setHappyFactor","state","setState","circleRef","search","circle","current","updatePosition","dx","dy","distance","sqrt","speed","directionX","directionY","newPositionX","newPositionY","setAttribute","clearInterval","intervalId","setInterval","className","driver","style","top","left","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/valu/Desktop/TESTSDS/my-app/src/agents/Driver.js"],"sourcesContent":["import styles from \"./styles.module.css\";\nimport React, { useState, useEffect, useRef } from \"react\";\n\n// const Driver = () => {\n\n// const search = () => {\n//   let timer;\n//   if (!passenger) {\n//     timer = setInterval(() => {\n//       const newDestination = {\n//         x: Math.floor(Math.random() * 500),\n//         y: Math.floor(Math.random() * 500),\n//       };\n//       setDestination(newDestination);\n//       if (location.x === newDestination.x && location.y === newDestination.y) {\n//         clearInterval(timer);\n//         search();\n//       }\n//     }, 5000);\n//   } else {\n//     const foundPassenger = passenger.find((p) => p.happyFactor < happyFactor);\n//     if (foundPassenger) {\n//       setDestination(foundPassenger.destination);\n//     } else {\n//       timer = setInterval(() => {\n//         const newDestination = {\n//           x: Math.floor(Math.random() * 500),\n//           y: Math.floor(Math.random() * 500),\n//         };\n//         setDestination(newDestination);\n//         if (\n//           location.x === newDestination.x &&\n//           location.y === newDestination.y\n//         ) {\n//           clearInterval(timer);\n//           search();\n//         }\n//       }, 5000);\n//     }\n//   }\n\n//   setTimeout(() => {\n//     clearInterval(timer);\n//     // check if there's still no passenger or no passenger that meets the happyFactor criteria after 10 seconds\n//     if (!passenger || !passenger.find((p) => p.happyFactor < happyFactor)) {\n//       // driver disappears\n//     }\n//   }, 10000);\n// };\n\n//   const pickup = (passenger) => {\n//     setPassenger(passenger);\n//   };\n\n//   // const deliver = () => {\n//   //   setLocation(passenger.destination);\n//   //   // passenger and driver now become a unit\n//   //   // move together on the screen to the passenger's destination\n//   //   // driver disappears after reaching the destination\n//   //   // passenger disappears\n//   //   // driver goes back to function searching\n//   // };\n\n//   const completed = () => {\n//     search();\n//   };\n\nfunction Driver() {\n  const [location, setLocation] = useState({\n    x: Math.floor(Math.random() * 500),\n    y: Math.floor(Math.random() * 500),\n  });\n  const [destination, setDestination] = useState({\n    x: Math.floor(Math.random() * 500),\n    y: Math.floor(Math.random() * 500),\n  });\n  const [passenger, setPassenger] = useState(null);\n  const [happyFactor, setHappyFactor] = useState(0);\n  const [state, setState] = useState(\"SEARCHING\");\n  const circleRef = useRef(null);\n\n  function search() {}\n  useEffect(() => {\n    const circle = circleRef.current;\n    function updatePosition() {\n      const dx = destination.x - location.x;\n      const dy = destination.y - location.y;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      const speed = 5;\n      const directionX = dx / distance;\n      const directionY = dy / distance;\n      const newPositionX = location.x + directionX * speed;\n      const newPositionY = location.y + directionY * speed;\n      circle.setAttribute(\"cx\", newPositionX);\n      circle.setAttribute(\"cy\", newPositionY);\n      if (newPositionX === destination.x && newPositionY === destination.y) {\n        clearInterval(intervalId);\n      }\n    }\n\n    const intervalId = setInterval(updatePosition, 10); // Set up a timer to update the circle's position\n\n    return () => {\n      clearInterval(intervalId); // Clean up the timer when the component unmounts\n    };\n  }, [location, destination]);\n\n  // useEffect(() => {\n  //   search();\n  // }, []);\n  return (\n    <div\n      className={styles.driver}\n      style={{ top: location.y, left: location.x }}\n    >\n      {/* green circle */}\n    </div>\n  );\n}\n\nexport default Driver;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}